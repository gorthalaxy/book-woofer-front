import streamlit as st
import requests
import matplotlib.pyplot as plt
from ebook import *
import io
from spotifywidget import select_and_play



st.title('books and woofers')
st.markdown(
    """
    <style>
    .reportview-container {
        background: url("data:image/jpeg;base64,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")
    }
   .sidebar .sidebar-content {
        background: url("data:image/jpeg;base64,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")
    }
    </style>
    """,
    unsafe_allow_html=True
)


# uploaded_file = st.file_uploader("Choose an ebook")

uploaded_file = st.file_uploader("Upload your kindle file.")
temporary_location = False
# param_object = 'I love apples'
if uploaded_file is not None:
  g = io.BytesIO(uploaded_file.read())  # BytesIO Object
  temporary_location = "testout_simple.epub"
  print(temporary_location)
  with open(temporary_location, 'wb') as out:  # Open temporary file as bytes
      out.write(g.read())  # Read bytes into file
      output = read_book(temporary_location)
      chapter = st.selectbox(
          'Chapter:', [i+1 for i in range(len(output))])
      param_object = [chapter-1]
      st.markdown(output[chapter-1])

input_object = st.text_input('Enter a sentence : ')
if len(input_object) > 1:
    param_object = [input_object]

#====================Send request and print prediction

texts =  {'text' : param_object}
url = "https://bfcontainer-csy3ocxwaq-ew.a.run.app/predict/"
response = requests.post(
    url,
    params=texts,
).json()
st.text(response)

our_mood = max(response, key=response.get)
select_and_play(our_mood)

st.text(our_mood)

#plot your prediction

# components.html(
#     '''
#         <iframe src="https://open.spotify.com/embed/playlist/7xOHp3ZlSBJNJOgsQwF85S" width="300" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
#     ''',
#     height=600
# )


st.set_option('deprecation.showPyplotGlobalUse', False)
plt.bar(x = response.keys(), height = response.values())
st.pyplot()
